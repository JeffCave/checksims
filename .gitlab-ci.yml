default:
  image: node:12.13.0-alpine3.10

test:
  stage: test
  script:
  - npm install
  - node test.js
  only:
  - 31-implement-test-framework
  - staging
  - master

staging:
  stage: deploy
  script:
  - cp www public/staging
  artifacts:
    paths:
    - public
  only:
  - 31-implement-test-framework
  - staging

prod:
  stage: deploy
  script:
  - mv www public
  artifacts:
    paths:
    - public
  only:
  - master
